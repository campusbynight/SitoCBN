{"ast":null,"code":"import _objectSpread from\"/home/ghigo/Documenti/GitHub/ProvaSito/node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import data from'./FastFood.json';import\"./Food.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const STORAGE_KEY='fastfood_wishlist';const FoodComponent=()=>{const[wishlist,setWishlist]=useState([]);// Carica wishlist da localStorage all'avvio\nuseEffect(()=>{const saved=localStorage.getItem(STORAGE_KEY);if(saved){const parsed=JSON.parse(saved);setWishlist(parsed);console.log('Wishlist caricata da localStorage:',parsed);}},[]);// Salva wishlist su localStorage a ogni modifica\nuseEffect(()=>{localStorage.setItem(STORAGE_KEY,JSON.stringify(wishlist));console.log('Wishlist salvata su localStorage:',wishlist);},[wishlist]);// Modifica quantità di un articolo\nconst changeQuantity=(item,delta)=>{setWishlist(prev=>{const exists=prev.find(i=>i.id===item.id);if(exists){const updated=prev.map(i=>i.id===item.id?_objectSpread(_objectSpread({},i),{},{quantity:i.quantity+delta}):i).filter(i=>i.quantity>0);return updated;}else if(delta>0){return[...prev,_objectSpread(_objectSpread({},item),{},{quantity:1})];}return prev;});};// Svuota wishlist\nconst clearWishlist=()=>{setWishlist([]);console.log('Wishlist svuotata');};// Calcola totale\nconst getTotal=()=>{return wishlist.reduce((sum,item)=>sum+item.price*item.quantity,0).toFixed(2);};// Condivide wishlist copiandola negli appunti\nconst shareWishlist=()=>{const text=wishlist.map(i=>\"\".concat(i.name,\" x\").concat(i.quantity,\" - \\u20AC\").concat((i.price*i.quantity).toFixed(2))).join('\\n')+\"\\nTotal: \\u20AC\".concat(getTotal());navigator.clipboard.writeText(text).then(()=>alert('Wishlist copiata negli appunti!')).catch(()=>alert('Errore nella copia della wishlist.'));};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"home-header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Menu'\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-container menu-container\",children:data.categories.map(cat=>/*#__PURE__*/_jsxs(\"div\",{className:\"widget\",children:[/*#__PURE__*/_jsx(\"h2\",{children:cat.name}),/*#__PURE__*/_jsx(\"ul\",{children:cat.items.map(item=>{var _wishlist$find;return/*#__PURE__*/_jsxs(\"li\",{className:\"menu-item\",style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"item-name\",children:[item.name,\" - \\u20AC\",item.price.toFixed(2)]}),item.description&&/*#__PURE__*/_jsx(\"p\",{className:\"item-desc\",children:item.description}),item.available_on&&/*#__PURE__*/_jsxs(\"small\",{className:\"item-available\",children:[\"Disponibile: \",item.available_on]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-control\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeQuantity(item,-1),disabled:!wishlist.find(i=>i.id===item.id),children:\"\\u2013\"}),/*#__PURE__*/_jsx(\"span\",{style:{margin:'0 8px'},children:((_wishlist$find=wishlist.find(i=>i.id===item.id))===null||_wishlist$find===void 0?void 0:_wishlist$find.quantity)||0}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeQuantity(item,1),children:\"+\"})]})]},item.id);})})]},cat.name))}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"section\",{className:\"widget-white wishlist-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"La tua Wishlist\"}),wishlist.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"La wishlist \\xE8 vuota.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{children:wishlist.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"wishlist-item\",style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" \\u2013 \\u20AC\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-control\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeQuantity(item,-1),children:\"\\u2013\"}),/*#__PURE__*/_jsx(\"span\",{style:{margin:'0 8px'},children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeQuantity(item,1),children:\"+\"})]})]},item.id))}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Totale: \\u20AC\",getTotal()]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"wishlist-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:shareWishlist,children:\"Condividi Wishlist\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearWishlist,children:\"Elimina Wishlist\"})]})]})]})]});};export default FoodComponent;","map":{"version":3,"names":["React","useState","useEffect","data","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","STORAGE_KEY","FoodComponent","wishlist","setWishlist","saved","localStorage","getItem","parsed","JSON","parse","console","log","setItem","stringify","changeQuantity","item","delta","prev","exists","find","i","id","updated","map","_objectSpread","quantity","filter","clearWishlist","getTotal","reduce","sum","price","toFixed","shareWishlist","text","concat","name","join","navigator","clipboard","writeText","then","alert","catch","className","children","categories","cat","items","_wishlist$find","style","display","justifyContent","alignItems","description","available_on","onClick","disabled","margin","length"],"sources":["/home/ghigo/Documenti/GitHub/ProvaSito/src/components/FoodComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport data from './FastFood.json';\nimport \"./Food.css\"\n\n\nconst STORAGE_KEY = 'fastfood_wishlist';\n\nconst FoodComponent = () => {\n  const [wishlist, setWishlist] = useState([]);\n\n  // Carica wishlist da localStorage all'avvio\n  useEffect(() => {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved) {\n      const parsed = JSON.parse(saved);\n      setWishlist(parsed);\n      console.log('Wishlist caricata da localStorage:', parsed);\n    }\n  }, []);\n\n  // Salva wishlist su localStorage a ogni modifica\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(wishlist));\n    console.log('Wishlist salvata su localStorage:', wishlist);\n  }, [wishlist]);\n\n  // Modifica quantità di un articolo\n  const changeQuantity = (item, delta) => {\n    setWishlist(prev => {\n      const exists = prev.find(i => i.id === item.id);\n      if (exists) {\n        const updated = prev\n          .map(i =>\n            i.id === item.id ? { ...i, quantity: i.quantity + delta } : i\n          )\n          .filter(i => i.quantity > 0);\n        return updated;\n      } else if (delta > 0) {\n        return [...prev, { ...item, quantity: 1 }];\n      }\n      return prev;\n    });\n  };\n\n  // Svuota wishlist\n  const clearWishlist = () => {\n    setWishlist([]);\n    console.log('Wishlist svuotata');\n  };\n\n  // Calcola totale\n  const getTotal = () => {\n    return wishlist\n      .reduce((sum, item) => sum + item.price * item.quantity, 0)\n      .toFixed(2);\n  };\n\n  // Condivide wishlist copiandola negli appunti\n  const shareWishlist = () => {\n    const text = wishlist\n      .map(i => `${i.name} x${i.quantity} - €${(i.price * i.quantity).toFixed(2)}`)\n      .join('\\n') + `\\nTotal: €${getTotal()}`;\n    navigator.clipboard.writeText(text)\n      .then(() => alert('Wishlist copiata negli appunti!'))\n      .catch(() => alert('Errore nella copia della wishlist.'));\n  };\n\n  return (\n    <div className=\"home-container\">\n      <header className=\"home-header\">\n        <h1 className=\"title\">Menu'</h1>\n      </header>\n\n      <div className=\"widget-container menu-container\">\n        {data.categories.map(cat => (\n          <div key={cat.name} className=\"widget\">\n            <h2>{cat.name}</h2>\n            <ul>\n              {cat.items.map(item => (\n                <li\n                  key={item.id}\n                  className=\"menu-item\"\n                  style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}\n                >\n                  <div>\n                    <span className=\"item-name\">\n                      {item.name} - €{item.price.toFixed(2)}\n                    </span>\n                    {item.description && (\n                      <p className=\"item-desc\">{item.description}</p>\n                    )}\n                    {item.available_on && (\n                      <small className=\"item-available\">Disponibile: {item.available_on}</small>\n                    )}\n                  </div>\n                  <div className=\"quantity-control\">\n                    <button\n                      onClick={() => changeQuantity(item, -1)}\n                      disabled={!wishlist.find(i => i.id === item.id)}\n                    >\n                      –\n                    </button>\n                    <span style={{ margin: '0 8px' }}>\n                      {wishlist.find(i => i.id === item.id)?.quantity || 0}\n                    </span>\n                    <button onClick={() => changeQuantity(item, 1)}>+</button>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        ))}\n      </div>\n      <br></br>\n      <br></br>\n\n\n      <section className=\"widget-white wishlist-section\">\n        <h2>La tua Wishlist</h2>\n        {wishlist.length === 0 ? (\n          <p>La wishlist è vuota.</p>\n        ) : (\n          <>\n            <ul>\n              {wishlist.map(item => (\n                <li\n                  key={item.id}\n                  className=\"wishlist-item\"\n                  style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}\n                >\n                  <span>\n                    {item.name} – €{(item.price * item.quantity).toFixed(2)}\n                  </span>\n                  <div className=\"quantity-control\">\n                    <button onClick={() => changeQuantity(item, -1)}>–</button>\n                    <span style={{ margin: '0 8px' }}>{item.quantity}</span>\n                    <button onClick={() => changeQuantity(item, 1)}>+</button>\n                  </div>\n                </li>\n              ))}\n            </ul>\n            <p><strong>Totale: €{getTotal()}</strong></p>\n            <div className=\"wishlist-actions\">\n              <button onClick={shareWishlist}>Condividi Wishlist</button>\n              <button onClick={clearWishlist}>Elimina Wishlist</button>\n            </div>\n          </>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default FoodComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}